<?xml version="1.0" encoding="UTF-8"?>
<!--
	***************************************************************
	Tarjouspyynnön työmaan elementit ja tyypit.
	Skeema on JHS-170 -suosituksen mukainen.
	
	Muutokset skeemapakettiin V10.05:
	-Skeematiedoston xs:schema elementtiin muutettu versionumeroksi "V10.05". Jatkossa tämä versionumero tulee päivittymään tarpeen mukaan silloin kun tiedostoon tehdään muutoksia.
	***************************************************************
-->
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
	targetNamespace="http://standardit.tapio.fi/schemas/forestData/forestusedeclarationreference"
	xmlns="http://standardit.tapio.fi/schemas/forestData/forestusedeclarationreference"
	xmlns:co="http://standardit.tapio.fi/schemas/forestData/common" elementFormDefault="qualified"
	xmlns:xmime="http://www.w3.org/2005/05/xmlmime" attributeFormDefault="unqualified" version="V10.05">


	<!-- Imports / Includes -->
	<xs:import namespace="http://standardit.tapio.fi/schemas/forestData/common"
		schemaLocation="Common.xsd"/>
	<xs:import namespace="http://www.w3.org/2005/05/xmlmime"
		schemaLocation="../w3c/2005/xmlmime.xsd"/>

	<!-- Elementtimääritykset -->
	<!-- Element definitions -->
	<xs:element name="ForestUseDeclarationReferences" type="ForestUseDeclarationsType"/>
	<xs:element name="ForestUseDeclarationReference" type="ForestUseDeclarationType"/>
	<xs:element name="DeclarationReference" type="DeclarationReferenceType"/>
	<xs:element name="AcceptanceDate" type="AcceptanceDateType"/>
	<xs:element name="SpecialPermission" type="SpecialPermissionType"/>
	<xs:element name="AdditionalText" type="AdditionalTextType"/>

	<!-- Tyyppimääritykset -->
	<!-- Type definitions -->
	<xs:complexType name="ForestUseDeclarationsType">
		<xs:annotation>
			<xs:documentation xml:lang="fi">Leimikon metsänkäyttöilmoitusten rakenteiden määrittely.</xs:documentation>
			<xs:documentation xml:lang="sv"/>
			<xs:documentation xml:lang="en"/>
		</xs:annotation>
		<xs:sequence>
			<xs:element ref="ForestUseDeclarationReference" minOccurs="1" maxOccurs="unbounded">
				<xs:annotation>
					<xs:documentation xml:lang="fi">Metsänkäyttöilmoitukset.</xs:documentation>
					<xs:documentation xml:lang="sv"/>
					<xs:documentation xml:lang="en"/>
				</xs:annotation>
			</xs:element>
		</xs:sequence>
		<!-- attribuutti parentId poistettu -->
	</xs:complexType>

	<xs:complexType name="ForestUseDeclarationType">
		<xs:annotation>
			<xs:documentation xml:lang="fi">Metsänkäyttöilmoituksen rakenteen määrittely.</xs:documentation>
			<xs:documentation xml:lang="sv"/>
			<xs:documentation xml:lang="en">Structure for forest Use declaration message.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element ref="co:TimeStamp"/>
			<xs:element ref="DeclarationReference"/>
			<xs:element ref="AcceptanceDate"/>
			<xs:element ref="SpecialPermission"/>
			<xs:element ref="AdditionalText" minOccurs="0"/>
			<xs:element minOccurs="0" name="OriginalXmlFile" type="xmime:base64Binary">
				<xs:annotation>
					<xs:documentation xml:lang="fi">Alkuperäinen Metsäkeskukseen toimitettu xml-muotoinen Metsänkäyttöilmoitus-tiedosto</xs:documentation>
					<xs:documentation xml:lang="sv"/>
					<xs:documentation xml:lang="en">Original forest use declaration xml-format document that has been delivered to Finnish Forestry Centre</xs:documentation>
				</xs:annotation>
			</xs:element>
		</xs:sequence>
		<xs:attribute name="parentId" type="xs:string">
			<xs:annotation>
				<xs:documentation xml:lang="fi">Viiteavain toisen sanoman avaintietoon (tarjouspyynnön / tarjouksen tunniste).</xs:documentation>
				<xs:documentation xml:lang="sv"/>
				<xs:documentation xml:lang="en">Surrogate reference key for call for offer / offer generated by first sender.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="id" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation xml:lang="fi">Viiteavain toisen sanoman avaintietoon (työmaan / leimikon tunniste).</xs:documentation>
				<xs:documentation xml:lang="sv"/>
				<xs:documentation xml:lang="en">Surrogate reference key for working site generated by first sender.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>

	<xs:simpleType name="DeclarationReferenceType">
		<xs:annotation>
			<xs:documentation xml:lang="fi">Sähköisen tiedonsiirron ilmoitusviite.</xs:documentation>
			<xs:documentation xml:lang="sv"/>
			<xs:documentation xml:lang="en">Id for electrical data transfer to authorities.</xs:documentation>
		</xs:annotation>
		<xs:restriction base="xs:string">
			<xs:maxLength value="30"/>
		</xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="AcceptanceDateType">
		<xs:annotation>
			<xs:documentation xml:lang="fi">Metsäkeskuksen vastaanottopvm.</xs:documentation>
			<xs:documentation xml:lang="sv"/>
			<xs:documentation xml:lang="en"/>
		</xs:annotation>
		<xs:restriction base="co:DateType"/>
	</xs:simpleType>

	<xs:simpleType name="SpecialPermissionType">
		<xs:annotation>
			<xs:documentation xml:lang="fi">Tieto siitä, onko kyseessä poikkeuslupa.</xs:documentation>
			<xs:documentation xml:lang="sv"/>
			<xs:documentation xml:lang="en"/>
		</xs:annotation>
		<xs:restriction base="co:YesNoType"/>
	</xs:simpleType>

	<xs:simpleType name="AdditionalTextType">
		<xs:annotation>
			<xs:documentation xml:lang="fi">Metsänkäyttöilmoituksen teksti.</xs:documentation>
			<xs:documentation xml:lang="sv"/>
			<xs:documentation xml:lang="en"/>
		</xs:annotation>
		<xs:restriction base="xs:string">
			<xs:maxLength value="5000"/>
		</xs:restriction>
	</xs:simpleType>

</xs:schema>
